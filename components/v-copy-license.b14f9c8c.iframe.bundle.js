(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1298:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(12);var runtime=__webpack_require__(2),CopyButton=__webpack_require__(1300),action_types=__webpack_require__(45),store_modules=__webpack_require__(54),usage_data_analytics_types=__webpack_require__(123),attribution_html=__webpack_require__(1356),license=__webpack_require__(486),VMediaInfo_VCopyLicensevue_type_script_lang_js_=Object(runtime.b)({name:"VCopyLicense",components:{CopyButton:CopyButton.default},props:{media:{type:Object},fullLicenseName:{type:String}},setup:function setup(props){var store=Object(runtime.p)().store,activeTab=Object(runtime.l)("rich"),licenseUrl=Object(runtime.a)((function(){return"".concat(props.media.license_url,"?ref=openverse")})),attributionHtml=Object(runtime.a)((function(){var licenseUrl="".concat(props.media.license_url,"&atype=html");return Object(attribution_html.a)(props.media,licenseUrl,props.fullLicenseName)})),sendDetailPageEvent=function sendDetailPageEvent(eventType){var eventData={eventType:eventType,resultUuid:props.media.id};store.dispatch("".concat(store_modules.h,"/").concat(usage_data_analytics_types.b),eventData)};return{activeTab:activeTab,attributionHtml:attributionHtml,isPDM:function isPDM(){return Object(license.c)(props.fullLicenseName)},licenseUrl:licenseUrl,onCreatorLinkClicked:function onCreatorLinkClicked(){sendDetailPageEvent(usage_data_analytics_types.a.CREATOR_CLICKED)},onSourceLinkClicked:function onSourceLinkClicked(){return sendDetailPageEvent(usage_data_analytics_types.a.SOURCE_CLICKED)},onCopyAttribution:function onCopyAttribution(type,event){store.dispatch("".concat(store_modules.b,"/").concat(action_types.c),{type:type,content:event.content}),sendDetailPageEvent(usage_data_analytics_types.a.ATTRIBUTION_CLICKED)},tabs:["rich","html","plain"],setActiveTab:function setActiveTab(tabIdx){return activeTab.value=tabIdx}}}}),componentNormalizer=__webpack_require__(10),component=Object(componentNormalizer.a)(VMediaInfo_VCopyLicensevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("h5",{staticClass:"mb-4 text-base md:text-2xl font-semibold"},[_vm._v("\n    "+_vm._s(_vm.$t("media-details.reuse.copy-license.title"))+"\n  ")]),_vm._v(" "),_c("nav",{staticClass:"flex borber-b-none",attrs:{role:"tablist"}},_vm._l(_vm.tabs,(function(tab,idx){return _c("button",{key:idx,staticClass:"py-3 md:py-4 px-4 md:px-6 border-t border-x rounded-t-sm bg-white text-sm md:text-base font-semibold relative focus:border-tx focus:outline-none focus:shadow-[0_0_0_1.5px_#c52b9b_inset]",class:[_vm.activeTab===tab?"border-t-dark-charcoal-20 border-x-dark-charcoal-20 -mb-[1px]":"border-tx"],attrs:{role:"tab","aria-controls":"tab-"+tab,"aria-selected":_vm.activeTab===tab},on:{click:function($event){return $event.preventDefault(),_vm.setActiveTab(tab)},keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:($event.preventDefault(),_vm.setActiveTab(tab))}}},[_vm._v("\n      "+_vm._s(_vm.$t("media-details.reuse.copy-license."+tab))+"\n    ")])})),0),_vm._v(" "),_vm._l(_vm.tabs,(function(tab,idx){return _c("div",{key:idx,staticClass:"border border-dark-charcoal-20 p-4 md:p-6 text-sm md:text-base foxus:border-tx focus:outline-none focus:shadow-[0_0_0_1.5px_#c52b9b_inset]",class:{hidden:_vm.activeTab!==tab},attrs:{id:"tab-"+tab,"aria-labelledby":tab,role:"tabpanel",tabindex:"0"}},["rich"===tab?_c("i18n",{attrs:{id:"attribution-rich",path:"media-details.reuse.credit.text",tag:"p"},scopedSlots:_vm._u([{key:"title",fn:function(){return[_c("a",{attrs:{href:_vm.media.foreign_landing_url,target:"_blank",rel:"noopener"},on:{click:_vm.onSourceLinkClicked,keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.onSourceLinkClicked.apply(null,arguments)}}},[_vm._v(_vm._s(_vm.media.title))])]},proxy:!0},{key:"creator",fn:function(){return[_vm.media.creator?_c("i18n",{attrs:{path:"media-details.reuse.credit.creator-text",tag:"span"},scopedSlots:_vm._u([{key:"creator-name",fn:function(){return[_vm.media.creator_url?_c("a",{attrs:{href:_vm.media.creator_url,target:"_blank",rel:"noopener"},on:{click:_vm.onCreatorLinkClicked,keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.onCreatorLinkClicked.apply(null,arguments)}}},[_vm._v(_vm._s(_vm.media.creator))]):_c("span",[_vm._v(_vm._s(_vm.media.creator))])]},proxy:!0}],null,!0)}):_vm._e()]},proxy:!0},{key:"marked-licensed",fn:function(){return[_vm._v("\n        "+_vm._s(_vm.isPDM?_vm.$t("media-details.reuse.credit.marked"):_vm.$t("media-details.reuse.credit.licensed"))+"\n      ")]},proxy:!0},{key:"license",fn:function(){return[_c("a",{staticClass:"uppercase",attrs:{href:_vm.licenseUrl,target:"_blank",rel:"noopener"}},[_vm._v(_vm._s(_vm.fullLicenseName))])]},proxy:!0}],null,!0)}):_vm._e(),_vm._v(" "),"html"===tab?_c("label",{attrs:{for:"attribution-html"}},[_c("textarea",{staticClass:"w-full font-mono h-auto resize-none",attrs:{id:"attribution-html",rows:"4",dir:"ltr",readonly:""},domProps:{value:_vm.attributionHtml}})]):_vm._e(),_vm._v(" "),"plain"===tab?_c("i18n",{attrs:{id:"attribution-plain",path:"media-details.reuse.credit.text",tag:"p"},scopedSlots:_vm._u([{key:"title",fn:function(){return[_vm._v(_vm._s(_vm.media.title))]},proxy:!0},{key:"creator",fn:function(){return[_vm.media.creator?_c("i18n",{attrs:{path:"media-details.reuse.credit.creator-text"},scopedSlots:_vm._u([{key:"creator-name",fn:function(){return[_vm._v(_vm._s(_vm.media.creator))]},proxy:!0}],null,!0)}):_vm._e()]},proxy:!0},{key:"marked-licensed",fn:function(){return[_vm._v("\n        "+_vm._s(_vm.isPDM?_vm.$t("media-details.reuse.credit.marked"):_vm.$t("media-details.reuse.credit.licensed"))+"\n      ")]},proxy:!0},{key:"license",fn:function(){return[_vm._v(" "+_vm._s(_vm.fullLicenseName))]},proxy:!0},{key:"view-legal",fn:function(){return[_c("i18n",{attrs:{path:"media-details.reuse.credit.view-legal-text"},scopedSlots:_vm._u([{key:"terms-copy",fn:function(){return[_vm._v("\n            "+_vm._s(_vm.isPDM?_vm.$t("media-details.reuse.credit.terms-text"):_vm.$t("media-details.reuse.credit.copy-text"))+"\n          ")]},proxy:!0},_vm.licenseUrl?{key:"URL",fn:function(){return[_vm._v("\n            "+_vm._s(_vm.licenseUrl)+"\n          ")]},proxy:!0}:null],null,!0)})]},proxy:!0}],null,!0)}):_vm._e(),_vm._v(" "),_c("CopyButton",{staticClass:"mt-6 md:mt-10",attrs:{id:"copyattr-"+tab,el:"#attribution-"+tab},on:{copied:function(e){return _vm.onCopyAttribution(tab,e)}}})],1)}))],2)}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{CopyButton:__webpack_require__(1300).default}),__vuedocgen_export_0.__docgenInfo={displayName:"VCopyLicense",exportName:"default",description:"",tags:{},props:[{name:"media",type:{name:"object"}},{name:"fullLicenseName",type:{name:"string"}}]}},1356:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(12),__webpack_require__(67),__webpack_require__(27),__webpack_require__(59),__webpack_require__(21);__webpack_exports__.a=function getAttributionHtml(media,licenseUrl,fullLicenseName){if(!media)return"";var baseAssetsPath="https://search.creativecommons.org/static/img",imgLink='<a href="'.concat(media.foreign_landing_url,'">"').concat(media.title,'"</a>'),creator="",mediaTag="";media.url&&media.title&&(mediaTag='<img style="display: block;" src="'.concat(media.url,'" alt="').concat(media.title,'">')),media.creator&&media.creator_url?creator='<span> by <a href="'.concat(media.creator_url,'">').concat(media.creator,"</a></span>"):media.creator&&!media.creator_url&&(creator="<span> by <span>".concat(media.creator,"</span></span>"));var licenseLink=' is licensed under <a href="'.concat(licenseUrl,'" style="margin-right: 5px;">').concat(fullLicenseName.toUpperCase(),"</a>"),licenseIcons='<img style="height: inherit;margin-right: 3px;display: inline-block;" src="'.concat(baseAssetsPath,"/cc_icon.svg?media_id=").concat(media.id,'" />');media.license&&(licenseIcons+=media.license.split("-").map((function(license){return'<img style="height: inherit;margin-right: 3px;display: inline-block;" src="'.concat(baseAssetsPath,"/cc-").concat(license.toLowerCase(),'_icon.svg" />')})).join(""));var licenseImgLink='<a href="'.concat(licenseUrl,'" target="_blank" rel="noopener noreferrer" style="display: inline-block;white-space: none;margin-top: 2px;margin-left: 3px;height: 22px !important;">').concat(licenseIcons,"</a>");return'<p style="font-size: 0.9rem;font-style: italic;">'.concat(mediaTag).concat(imgLink).concat(creator).concat(licenseLink).concat(licenseImgLink,"</p>")}}}]);